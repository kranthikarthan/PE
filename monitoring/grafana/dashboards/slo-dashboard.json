{
  "dashboard": {
    "id": null,
    "title": "Payment Engine - SLO Dashboard",
    "tags": ["payment-engine", "slo", "sli"],
    "style": "dark",
    "timezone": "browser",
    "panels": [
      {
        "id": 1,
        "title": "Transaction Success Rate SLO",
        "type": "stat",
        "description": "SLO: 99.9% of transactions should complete successfully",
        "targets": [
          {
            "expr": "payment_engine:transaction_success_rate",
            "legendFormat": "Current Success Rate"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "percent",
            "min": 95,
            "max": 100,
            "thresholds": {
              "steps": [
                {"color": "red", "value": 95},
                {"color": "yellow", "value": 99},
                {"color": "green", "value": 99.9}
              ]
            }
          }
        },
        "gridPos": {"h": 8, "w": 8, "x": 0, "y": 0}
      },
      {
        "id": 2,
        "title": "API Response Time SLO",
        "type": "stat",
        "description": "SLO: 95% of API requests should complete within 2 seconds",
        "targets": [
          {
            "expr": "payment_engine:api_response_time_p95",
            "legendFormat": "P95 Response Time"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "s",
            "min": 0,
            "max": 5,
            "thresholds": {
              "steps": [
                {"color": "green", "value": 0},
                {"color": "yellow", "value": 1},
                {"color": "red", "value": 2}
              ]
            }
          }
        },
        "gridPos": {"h": 8, "w": 8, "x": 8, "y": 0}
      },
      {
        "id": 3,
        "title": "System Availability SLO",
        "type": "stat",
        "description": "SLO: 99.95% system uptime",
        "targets": [
          {
            "expr": "payment_engine:system_availability",
            "legendFormat": "System Availability"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "percent",
            "min": 99,
            "max": 100,
            "thresholds": {
              "steps": [
                {"color": "red", "value": 99},
                {"color": "yellow", "value": 99.5},
                {"color": "green", "value": 99.95}
              ]
            }
          }
        },
        "gridPos": {"h": 8, "w": 8, "x": 16, "y": 0}
      },
      {
        "id": 4,
        "title": "Error Budget Burn Rate - Transaction Success",
        "type": "graph",
        "description": "Error budget consumption rate for transaction success SLO",
        "targets": [
          {
            "expr": "(1 - payment_engine:transaction_success_rate / 100) / (1 - 99.9 / 100)",
            "legendFormat": "Burn Rate Multiplier"
          }
        ],
        "yAxes": [
          {
            "label": "Burn Rate Multiplier",
            "min": 0
          }
        ],
        "thresholds": [
          {
            "value": 1,
            "colorMode": "critical",
            "op": "gt"
          }
        ],
        "gridPos": {"h": 9, "w": 12, "x": 0, "y": 8}
      },
      {
        "id": 5,
        "title": "Error Budget Remaining",
        "type": "piechart",
        "targets": [
          {
            "expr": "100 - payment_engine:transaction_success_rate",
            "legendFormat": "Error Budget Used"
          },
          {
            "expr": "payment_engine:transaction_success_rate - 99.9",
            "legendFormat": "Error Budget Remaining"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "unit": "percent"
          }
        },
        "gridPos": {"h": 9, "w": 12, "x": 12, "y": 8}
      },
      {
        "id": 6,
        "title": "SLI Trends (7 days)",
        "type": "graph",
        "targets": [
          {
            "expr": "avg_over_time(payment_engine:transaction_success_rate[7d])",
            "legendFormat": "Avg Transaction Success Rate (7d)"
          },
          {
            "expr": "avg_over_time(payment_engine:api_response_time_p95[7d])",
            "legendFormat": "Avg API Response Time P95 (7d)"
          },
          {
            "expr": "avg_over_time(payment_engine:system_availability[7d])",
            "legendFormat": "Avg System Availability (7d)"
          }
        ],
        "yAxes": [
          {
            "label": "SLI Values",
            "min": 0
          }
        ],
        "gridPos": {"h": 9, "w": 24, "x": 0, "y": 17}
      },
      {
        "id": 7,
        "title": "SLO Compliance Status",
        "type": "table",
        "targets": [
          {
            "expr": "payment_engine:transaction_success_rate >= 99.9",
            "legendFormat": "Transaction Success Rate SLO"
          },
          {
            "expr": "payment_engine:api_response_time_p95 <= 2",
            "legendFormat": "API Response Time SLO"
          },
          {
            "expr": "payment_engine:system_availability >= 99.95",
            "legendFormat": "System Availability SLO"
          }
        ],
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {
                "Time": true
              },
              "renameByName": {
                "__name__": "SLO",
                "Value": "Compliant"
              }
            }
          }
        ],
        "fieldConfig": {
          "overrides": [
            {
              "matcher": {"id": "byName", "options": "Compliant"},
              "properties": [
                {
                  "id": "mappings",
                  "value": [
                    {"options": {"0": {"text": "❌ NO", "color": "red"}}, "type": "value"},
                    {"options": {"1": {"text": "✅ YES", "color": "green"}}, "type": "value"}
                  ]
                }
              ]
            }
          ]
        },
        "gridPos": {"h": 9, "w": 24, "x": 0, "y": 26}
      }
    ],
    "time": {
      "from": "now-24h",
      "to": "now"
    },
    "refresh": "30s",
    "schemaVersion": 27,
    "version": 1
  }
}